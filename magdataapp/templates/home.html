{% extends 'base.html' %}
{% load static %}

{% block content %}
    {% if chart %}
        <img src="data:image/png;base64, {{chart|safe}}">
    {% endif %}

    <canvas id="example"></canvas>
{% endblock content %}

{% block footer_js %}
    <script>
        const ctx = document.getElementById('example');
        const dataPoints = {{ chartdatajson }};

        new Chart(ctx, {
          type: 'bar',
          data: {
            labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
            datasets: [{
              label: '# of Votes',
              data: dataPoints,
              borderWidth: 1
            }]
          },
          options: {
            scales: {
              y: {
                beginAtZero: true
              }
            }
          }
        });
      </script>
{% endblock footer_js %}